@using NewsPaper.Models.Entities
@using NewsPaper.ViewModel
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    SelectList authorList = new SelectList(ViewBag.Authors, "Id", "Name");
}
 @model Post

<section class="contact section-padding">
    <div class="container">
        <div>

            <div>
                <h2 class="mb-4">Update <span>Post</span></h2>

                <form method="post" asp-controller="Post" asp-action="SavePost" asp-route-id="@Model.Id" class="contact-form me-lg-5 pe-lg-3">

                    <div class="form-floating">
                        <input asp-for="PostType" class="form-control" placeholder="Post Type">
                        <label asp-for="PostType"></label>
                        <span asp-validation-for="PostType"></span>
                    </div>

                    <div class="form-floating my-4">
                        <input asp-for="CreateTime" class="form-control" readonly placeholder="CreateTime" />
                        <label asp-for="CreateTime"></label>
                        <span asp-validation-for="CreateTime"></span>
                    </div>

                    <div class="form-floating mb-4">
                        <textarea asp-for="Description" class="form-control" style="height: 160px"></textarea>
                        <label asp-for="Description"></label>
                        <span asp-validation-for="Description"></span>
                    </div>
                    <div class="col-lg-6 col-12 mt-5 ms-auto">
                        <div class="row">
                            <div style="display: flex; gap: 20px; justify-content:space-between;">
                                <div class="input-box" style="width: 45%">
                                    <label asp-for="AuthorId" class="form-label">Select Author</label>
                                    <select asp-for="AuthorId" asp-items="authorList" class="form-select" class="form-control"></select>
                                </div>

                                <div class="form-floating my-4">
                                    <input asp-for="Image" class="form-control" placeholder="Image" readonly />
                                    <label asp-for="Image" value="Image"></label>
@*                                     <span>@Model.Image</span>
 *@                                    <span asp-validation-for="Image"></span>
                                </div>
                                 @* <div class="input-box">
                                     <label asp-for="ImageId" class="form-label">Select Image</label>
                                     <select asp-for="ImageId" asp-items="imageList" class="form-select"></select>
                                 </div> *@
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 col-6">
                        <button type="submit" class="form-control">Save</button>
                    </div>
                </form>
            </div>

            
                     @* <label class="form-label" name="Image">Image</label>
                     <select class="form-select" name="Image">
                        @foreach (var post in ViewBag.posts)
                         {
                            if(post.Image != null)
                            {
                                if (post.Image == Model.Image)
                                {
                                    <option value="@post.Image" selected>
                                        @post.Image
                                    </option>
                                }
                                else
                                {
                                    <option value="@post.Image">
                                        @post.Image
                                    </option>
                                }
                            }
                         }
                    </select>*@
                        
@*                         <input asp-for="CreateTime" class="form-control" pattern="\d{2}/\d{2}/\d{4}" placeholder="CreateTime" />
                        <label asp-for="Image"></label>
                         <span asp-validation-for="Image"></span> *@

            </div>

        </div>
    
</section>

@section Scripts {
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

}